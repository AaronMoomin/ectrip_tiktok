<view class="reserveContainer">
    <view class="detailContainer">
        <text class="headTitle">《太行山上》大型实景演艺门票不限人群</text>
        <view class="timeChooser">
            <text class="title">游玩日期</text>
            <view class="timeBox">
                <view class="timeItem">
                    <text style="{{showYesterday?'':'color:#d8dadc'}};" bind:tap="{{showYesterday?'preDay':''}}">{{yesterday}}</text>
                </view>
                <view class="timeItem select">
                    <text style="{{showDay?'':'color:#d8dadc'}};">{{today}}</text>
                    <text style="display:{{displayed}}" class="iconfont icon-tick dui"></text>
                </view>
                <view class="timeItem" bind:tap="{{showTomorrow?'nextDay':''}}">
                    <text style="{{showTomorrow?'':'color:#d8dadc'}};">{{tomorrow}}</text>
                </view>
                <view class="more" bind:tap="open">
                    <text>更多日期</text>
                    <text class="iconfont icon-tiaozhuan"></text>
                </view>
            </view>
        </view>
        <view class="addressChooser">
            <text class="title">场次</text>
            <view class="address {{item.isSelect?'select':''}}" wx:for="{{timeChooser}}" wx:key="{{item.session}}"
                bind:tap="checkSession" data-session="{{item.session}}">
                <text>{{item.start}} ~ {{item.end}}</text>
                <text>{{item.session}}</text>
            </view>
        </view>
        <view class="numChooser">
            <text class="title">购买数量</text>
            <calculate binditemIndex="getIndex"></calculate>
        </view>
        <view class="info">
            <text>19: 00前可订今日票 | 未使用随时可退 预定须知</text>
            <text class="iconfont icon-tiaozhuan tz"></text>
        </view>
    </view>
    <view class="humanInfo">
        <view class="top">
            <text class="title">游玩人信息</text>
            <text>需填 1 人, 用于入院认证</text>
        </view>
        <view class="infoItem" bind:tap="open1" wx:if="{{users.length === 0}}">
            <button>+</button>
            <text>点击新增游玩人</text>
        </view>
        <view class="userInfo" wx:else>
            <view class="userBox">
                <view class="userItem {{item.isSelect?'select':''}}" bind:tap="userChoose" data-user="{{item}}"
                      wx:for="{{users}}" wx:key="item.idCard">
                    <text>{{item.userName}}</text>
                    <text style="display:{{item.isSelect?'block':'none'}}" class="iconfont icon-tick dui"></text>
                </view>
                <view class="more" bind:tap="addNew">
                    <text>新增更换</text>
                    <text class="iconfont icon-tiaozhuan"></text>
                </view>
            </view>
            <view class="userDetails">
                <text class="iconfont icon-shanchu" bind:tap="handleDelete"></text>
                <view class="user">
                    <view class="userItem">
                        <text class="lead">出行人</text>
                        <text class="name">{{userNameShow}}</text>
                    </view>
                    <view class="userItem">
                        <text class="lead">手机号</text>
                        <text>{{phoneShow}}</text>
                    </view>
                    <view class="userItem">
                        <text class="lead">身份证</text>
                        <text>{{idCardShow}}</text>
                    </view>
                </view>
                <text class="iconfont icon-bianji" bind:tap="edit"></text>
            </view>
        </view>
    </view>
    <view class="fadeIn" wx:if="{{iosDialog}}">
        <view class="weui-mask"></view>
        <view class="weui-dialog">
            <view class="weui-dialog__hd">
                <text class="weui-dialog__title">是否删除</text>
            </view>
            <view class="weui-dialog__bd">删除之后需要重新输入</view>
            <view class="weui-dialog__ft">
                <text class="weui-dialog__btn weui-dialog__btn_default" bindtap="cancel">取消</text>
                <text class="weui-dialog__btn weui-dialog__btn_primary" bindtap="deleteItem">确定</text>
            </view>
        </view>
    </view>
    <!--  新增  -->
    <view class="fadeIn" wx:if="{{dialog2}}">
        <view class="weui-mask" bindtap="close1"></view>
        <view class="weui-half-screen-dialog">
            <view class="weui-half-screen-dialog__hd">
                <view class="weui-half-screen-dialog__hd__side" bindtap="close1">
                    <view class="weui-icon-btn">关闭<text class="weui-icon-close-thin"></text>
                    </view>
                </view>
                <view class="weui-half-screen-dialog__hd__main">
                    <text class="weui-half-screen-dialog__title">新增游玩人信息</text>
                </view>
            </view>
            <view class="weui-half-screen-dialog__bd" style="height:550rpx;">
                <view class="weui-cells__group weui-cells__group_form">
                    <view class="weui-cells weui-cells_form">
                        <view class="weui-cell weui-cell_active">
                            <view class="weui-cell__hd">
                                <label class="weui-label">姓名</label>
                            </view>
                            <view class="weui-cell__bd">
                                <input class="weui-input" bindinput="handleUserName" value="{{userName}}"
                                       placeholder="填写本人姓名"
                                       placeholder-class="weui-input__placeholder"/>
                            </view>
                        </view>
                        <view class="weui-cells__tips weui-cells__tips_warn"
                              style="color:red;{{isNameCurrentWaring ? 'display:block' : 'display:none'}}">
                            {{nameWarnMessage}}
                        </view>
                        <view class="weui-cell weui-cell_active">
                            <view class="weui-cell__hd">
                                <label class="weui-label">手机号</label>
                            </view>
                            <view class="weui-cell__bd">
                                <input class="weui-input" bindinput="handlePhone" placeholder="填写本人的电话号码"
                                       type="number"
                                       placeholder-class="weui-input__placeholder" value="{{phone}}"/>
                            </view>
                        </view>
                        <view class="weui-cells__tips weui-cells__tips_warn"
                              style="color:red;{{isPhoneCurrentWaring ? 'display:block' : 'display:none'}}">
                            {{phoneWarnMessage}}
                        </view>
                        <view class="weui-cell weui-cell_active">
                            <view class="weui-cell__hd">
                                <label class="weui-label">性别</label>
                            </view>
                            <view class="weui-cell__bd">
                                <radio-group class="radio-group" bindchange="radioChange">
                                    <label class="radio">
                                        <radio value="男" checked/>男
                                    </label>
                                    <label class="radio">
                                        <radio value="女"/>女
                                    </label>
                                </radio-group>
                            </view>
                        </view>
                        <view class="weui-cell weui-cell_active">
                            <view class="weui-cell__hd">
                                <label class="weui-label">证件类型</label>
                            </view>
                            <view class="weui-cell__hd">
                                <view class="weui-cell weui-cell_active weui-cell_select">
                                    <view style="width:400rpx;" class="weui-cell__bd">
                                        <picker bindchange="bindPickerChange" range="{{array}}">
                                            <view class="weui-select">{{array[value1]}}</view>
                                        </picker>
                                    </view>
                                </view>
                            </view>
                        </view>
                        <view class="weui-cell weui-cell_active">
                            <view class="weui-cell__hd">
                                <label style="width:120rpx;" class="weui-label">证件号</label>
                            </view>
                            <view class="weui-cell__bd">
                                <input class="weui-input" bindinput="handleIdCard" placeholder="填写本人的证件号码" type="text"
                                       placeholder-class="weui-input__placeholder" value="{{idCard}}"/>
                            </view>
                        </view>
                        <view class="weui-cells__tips weui-cells__tips_warn"
                              style="color:red;{{isIdCardCurrentWaring ? 'display:block' : 'display:none'}}">
                            {{IdCardWarnMessage}}
                        </view>
                    </view>
                </view>
            </view>
            <view class="weui-half-screen-dialog__ft">
                <button id="confirm" bind:tap="confirm">确定</button>
            </view>
        </view>
    </view>
    <!--  编辑  -->
    <view class="fadeIn" wx:if="{{dialog3}}">
        <view class="weui-mask" bindtap="close2"></view>
        <view class="weui-half-screen-dialog">
            <view class="weui-half-screen-dialog__hd">
                <view class="weui-half-screen-dialog__hd__side" bindtap="close2">
                    <view class="weui-icon-btn">关闭<text class="weui-icon-close-thin"></text>
                    </view>
                </view>
                <view class="weui-half-screen-dialog__hd__main">
                    <text class="weui-half-screen-dialog__title">编辑游玩人信息</text>
                </view>
            </view>
            <view class="weui-half-screen-dialog__bd" style="height:550rpx;">
                <view class="weui-cells__group weui-cells__group_form">
                    <view class="weui-cells weui-cells_form">
                        <view class="weui-cell weui-cell_active">
                            <view class="weui-cell__hd">
                                <label class="weui-label">姓名</label>
                            </view>
                            <view class="weui-cell__bd">
                                <input class="weui-input" bindinput="handleUserName" value="{{userName}}"
                                       placeholder="填写本人姓名"
                                       placeholder-class="weui-input__placeholder"/>
                            </view>
                        </view>
                        <view class="weui-cells__tips weui-cells__tips_warn"
                              style="color:red;{{isNameCurrentWaring ? 'display:block' : 'display:none'}}">
                            {{nameWarnMessage}}
                        </view>
                        <view class="weui-cell weui-cell_active">
                            <view class="weui-cell__hd">
                                <label class="weui-label">手机号</label>
                            </view>
                            <view class="weui-cell__bd">
                                <input class="weui-input" bindinput="handlePhone" placeholder="填写本人的电话号码"
                                       type="number"
                                       placeholder-class="weui-input__placeholder" value="{{phone}}"/>
                            </view>
                        </view>
                        <view class="weui-cells__tips weui-cells__tips_warn"
                              style="color:red;{{isPhoneCurrentWaring ? 'display:block' : 'display:none'}}">
                            {{phoneWarnMessage}}
                        </view>
                        <view class="weui-cell weui-cell_active">
                            <view class="weui-cell__hd">
                                <label class="weui-label">性别</label>
                            </view>
                            <view class="weui-cell__bd">
                                <radio-group class="radio-group" bindchange="radioChange">
                                    <label class="radio">
                                        <radio value="男" checked="{{sexShow=='男'?true:false}}"/>男
                                    </label>
                                    <label class="radio">
                                        <radio value="女" checked="{{sexShow=='女'?true:false}}"/>女
                                    </label>
                                </radio-group>
                            </view>
                        </view>
                        <view class="weui-cell weui-cell_active">
                            <view class="weui-cell__hd">
                                <label class="weui-label">证件类型</label>
                            </view>
                            <view class="weui-cell__hd">
                                <view class="weui-cell weui-cell_active weui-cell_select">
                                    <view style="width:400rpx;" class="weui-cell__bd">
                                        <picker bindchange="bindPickerChange" range="{{array}}">
                                            <view class="weui-select">{{array[value1]}}</view>
                                        </picker>
                                    </view>
                                </view>
                            </view>
                        </view>
                        <view class="weui-cell weui-cell_active">
                            <view class="weui-cell__hd">
                                <label style="width:120rpx;" class="weui-label">证件号</label>
                            </view>
                            <view class="weui-cell__bd">
                                <input class="weui-input" bindinput="handleIdCard" placeholder="填写本人的证件号码" type="text"
                                       placeholder-class="weui-input__placeholder" value="{{idCard}}"/>
                            </view>
                        </view>
                        <view class="weui-cells__tips weui-cells__tips_warn"
                              style="color:red;{{isIdCardCurrentWaring ? 'display:block' : 'display:none'}}">
                            {{IdCardWarnMessage}}
                        </view>
                    </view>
                </view>
            </view>
            <view class="weui-half-screen-dialog__ft">
                <button id="confirm" bind:tap="confirmEdit">确定</button>
            </view>
        </view>
    </view>
    <view class="phoneInput">
        <view class="weui-cell weui-cell_active ">
            <label style="width:150rpx;" class="weui-label">手机</label>
            <view class="weui-cell weui-cell_active weui-cell_access weui-cell_select weui-cell_select-before">
                <picker style="width:100rpx;" bindchange="bindPickerChange1" range="{{array1}}">
                    <view class="weui-select">{{array1[value2]}}</view>
                </picker>
                <view class="weui-cell__bd">
                    <input
                            class="weui-input"
                            type="text"
                            placeholder="请输入手机号"
                            placeholder-class="weui-input__placeholder"
                            value="{{currentValue}}"
                            bindinput="onCurrentInput"
                    />
                </view>
            </view>
        </view>
        <view class="weui-cells__tips weui-cells__tips_warn"
              style="color:red;{{isCurrentWaring ? 'display:block' : 'display:none'}}">
            {{warnMessage}}
        </view>
    </view>
    <label class="checkboxContainer">
        <checkbox-group bindchange="checkboxChange">
            <checkbox value="{{needKnow}}"/>
        </checkbox-group>
        <view bind:tap="open2">已阅读并同意 <text style="color:#6da9ee;">《平台旅游预定条数》</text></view>
    </label>
    <view class="confirmContainer">
        <button id="confirm" bind:tap="allConfirm">确定</button>
    </view>
    <!--  日期选择  -->
    <view class="fadeIn" wx:if="{{dialog}}">
        <view class="weui-mask" bindtap="close"></view>
        <view class="weui-half-screen-dialog">
            <view class="weui-half-screen-dialog__hd">
                <view class="weui-half-screen-dialog__hd__side" bindtap="close">
                    <view class="weui-icon-btn">关闭<text class="weui-icon-close-thin"></text>
                    </view>
                </view>
                <view class="weui-half-screen-dialog__hd__main">
                    <text class="weui-half-screen-dialog__title">选择日期</text>
                </view>
            </view>
            <view class="weui-half-screen-dialog__bd" style="padding-top:32rpx;height:500rpx;">
                <calendar binddayClick="dayClick"
                          weeks-type="cn" active-type="rounded"
                          days-color="{{days_style}}"></calendar>
            </view>
            <view class="weui-half-screen-dialog__ft">
                <button id="confirm" bind:tap="confirmDate">确定</button>
            </view>
        </view>
    </view>
    <view class="fadeIn" wx:if="{{needToKnow}}">
        <view class="weui-mask" bindtap="close3"></view>
        <view class="weui-half-screen-dialog">
            <view class="weui-half-screen-dialog__hd">
                <view class="weui-half-screen-dialog__hd__side" bindtap="close3">
                    <view class="weui-icon-btn">关闭<text class="weui-icon-close-thin"></text></view>
                </view>
                <view class="weui-half-screen-dialog__hd__main">
                    <text class="weui-half-screen-dialog__title">平台旅游预定条数</text>
                </view>
            </view>
            <view class="weui-half-screen-dialog__bd" style="padding-top:32rpx;height:500rpx;">
                平台旅游预定条数
            </view>
        </view>
    </view>
</view>
